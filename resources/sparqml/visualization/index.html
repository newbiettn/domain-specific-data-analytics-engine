<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <title>Google Graph and CSV</title>
    <meta name="description" content="test">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="jquery.csv.min.js"></script>
    <script type="text/javascript" src="http://www.google.com/jsapi"></script>

    <script type="text/javascript"> // load the visualisation API
    google.load('visualization', '1', { packages: ['corechart', 'controls'] });
    </script>

    <script type="text/javascript">
        function drawVisualization() {
            $.get("result.csv", function(csvString) {
                // transform the CSV string into a 2-dimensional array
                var arrayData = $.csv.toArrays(csvString, {onParseValue: $.csv.hooks.castToScalar});

                // this new DataTable object holds all the data
                var data = new google.visualization.arrayToDataTable(arrayData);
                // CAPACITY - En-route ATFM delay - YY - CHART
                var crt_ertdlyYY = new google.visualization.ChartWrapper({
                    chartType: 'ColumnChart',
                    containerId: 'visualization-container',
                    dataTable: data,
                    options:{
                        height: 600,
                        title: 'Age vs LengthOfStay',
                        hAxis: {title: 'Age'},
                        vAxis: {title: 'LengthOfStay'},
                        titleTextStyle : {color: 'grey', fontSize: 11},
                        legend: 'none'
                    }
                });
                crt_ertdlyYY.draw();
            });
        }
        google.setOnLoadCallback(drawVisualization)
    </script>
</head>
<body>
<div id="visualization-container"></div>
</body>
</html>
